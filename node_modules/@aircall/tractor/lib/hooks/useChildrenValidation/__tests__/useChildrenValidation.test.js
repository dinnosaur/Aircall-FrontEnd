"use strict";

var _react = _interopRequireDefault(require("react"));

var _reactHooks = require("@testing-library/react-hooks");

var _styledComponents = _interopRequireDefault(require("styled-components"));

var _ = require("..");

var _components = require("../../../components");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

describe('useChildrenValidation', function () {
  it('should throw error if children are NOT allowed - single allowed child type', function () {
    var children = [/*#__PURE__*/_react["default"].createElement("div", null, "wrong child provided"), /*#__PURE__*/_react["default"].createElement("div", null, "wrong child provided")];

    var _renderHook = (0, _reactHooks.renderHook)(function () {
      return (0, _.useChildrenValidation)(children, 'Tab.Menu', _components.Tab.MenuItem);
    }),
        error = _renderHook.result.error;

    expect(error).toEqual(Error('Tab.Menu only allows Tab.MenuItem as immediate children. Found invalid child undefined.'));
  });
  it('should throw error if children are React Components and are NOT allowed - single allowed child type', function () {
    var children = [/*#__PURE__*/_react["default"].createElement(_components.Accordion.Header, null, "Accordion Header"), /*#__PURE__*/_react["default"].createElement(_components.Accordion.Header, null, "Accordion Header")];

    var _renderHook2 = (0, _reactHooks.renderHook)(function () {
      return (0, _.useChildrenValidation)(children, 'Tab.Menu', _components.Tab.MenuItem);
    }),
        error = _renderHook2.result.error;

    expect(error).toEqual(Error('Tab.Menu only allows Tab.MenuItem as immediate children. Found invalid child AccordionHeader.'));
  });
  it('should throw error if children are NOT allowed - multiple allowed children types', function () {
    var children = [/*#__PURE__*/_react["default"].createElement(_components.Accordion.Header, null, "ItemHeader 1"), /*#__PURE__*/_react["default"].createElement(_components.Accordion.Body, null, "ItemBody 1"), /*#__PURE__*/_react["default"].createElement(_components.Tab.MenuItem, {
      id: 1
    }, "test")];

    var _renderHook3 = (0, _reactHooks.renderHook)(function () {
      return (0, _.useChildrenValidation)(children, 'Accodion.Item', [_components.Accordion.Header, _components.Accordion.Body]);
    }),
        error = _renderHook3.result.error;

    expect(error).toEqual(Error('Accodion.Item only allows AccordionHeader, AccordionBody as immediate children. Found invalid child Tab.MenuItem.'));
  });
  it('should NOT throw error if children are allowed - single allowed child type', function () {
    var children = [/*#__PURE__*/_react["default"].createElement(_components.Tab.MenuItem, {
      id: 1
    }, "Tab 1"), /*#__PURE__*/_react["default"].createElement(_components.Tab.MenuItem, {
      id: 2
    }, "Tab 2"), /*#__PURE__*/_react["default"].createElement(_components.Tab.MenuItem, {
      id: 3
    }, "Tab 3")];

    var _renderHook4 = (0, _reactHooks.renderHook)(function () {
      return (0, _.useChildrenValidation)(children, 'Tab.Menu', _components.Tab.MenuItem);
    }),
        result = _renderHook4.result;

    expect(result.error).toBe(undefined);
  });
  it('should NOT throw error if children are styled versions of allowed one', function () {
    var StyledTabMenuItem = (0, _styledComponents["default"])(_components.Tab.MenuItem).attrs({
      activeTabColor: 'primary.base'
    }).withConfig({
      displayName: "useChildrenValidationtest__StyledTabMenuItem",
      componentId: "sc-10rtg7v-0"
    })(["color:'#707479';"]);
    var children = [/*#__PURE__*/_react["default"].createElement(StyledTabMenuItem, {
      id: 1
    }, "Tab 1"), /*#__PURE__*/_react["default"].createElement(StyledTabMenuItem, {
      id: 2
    }, "Tab 2"), /*#__PURE__*/_react["default"].createElement(StyledTabMenuItem, {
      id: 3
    }, "Tab 3")];

    var _renderHook5 = (0, _reactHooks.renderHook)(function () {
      return (0, _.useChildrenValidation)(children, 'Tab.Menu', _components.Tab.MenuItem);
    }),
        result = _renderHook5.result;

    expect(result.error).toBe(undefined);
  });
  it('should NOT throw error if children are allowed - multiple allowed children types', function () {
    var children = [/*#__PURE__*/_react["default"].createElement(_components.Accordion.Header, null, "ItemHeader 1"), /*#__PURE__*/_react["default"].createElement(_components.Accordion.Body, null, "ItemBody 1")];

    var _renderHook6 = (0, _reactHooks.renderHook)(function () {
      return (0, _.useChildrenValidation)(children, 'Accordion.Item', [_components.Accordion.Header, _components.Accordion.Body]);
    }),
        result = _renderHook6.result;

    expect(result.error).toBe(undefined);
  });
  it('should NOT throw error if children are styled versions of allowed ones', function () {
    var StyledAccordionHeader = (0, _styledComponents["default"])(_components.Accordion.Header).withConfig({
      displayName: "useChildrenValidationtest__StyledAccordionHeader",
      componentId: "sc-10rtg7v-1"
    })(["color:blue;"]);
    var StyledAccordionBody = (0, _styledComponents["default"])(_components.Accordion.Body).withConfig({
      displayName: "useChildrenValidationtest__StyledAccordionBody",
      componentId: "sc-10rtg7v-2"
    })(["padding:5px;border:2px dotted purple;"]);
    var children = [/*#__PURE__*/_react["default"].createElement(StyledAccordionHeader, null, "Styled Accordion Header"), /*#__PURE__*/_react["default"].createElement(StyledAccordionBody, null, "Styled Accordion Body")];

    var _renderHook7 = (0, _reactHooks.renderHook)(function () {
      return (0, _.useChildrenValidation)(children, 'Accordion.Item', [_components.Accordion.Header, _components.Accordion.Body]);
    }),
        result = _renderHook7.result;

    expect(result.error).toBe(undefined);
  });
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.usePubSub = void 0;

var _react = require("react");

var _pubsubJs = _interopRequireDefault(require("pubsub-js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var usePubSub = function usePubSub(topic, cb) {
  var token = (0, _react.useMemo)(function () {
    return _pubsubJs["default"].subscribe(topic, function (_, data) {
      cb(data);
    });
  }, [topic, cb]);
  (0, _react.useEffect)(function () {
    return function () {
      _pubsubJs["default"].unsubscribe(token);
    };
  }, [token]);
};

exports.usePubSub = usePubSub;
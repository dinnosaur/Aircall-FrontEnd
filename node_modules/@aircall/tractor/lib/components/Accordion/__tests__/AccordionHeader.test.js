"use strict";

var _react = _interopRequireDefault(require("react"));

var _react2 = require("@testing-library/react");

var _AccordionHeader = require("../AccordionHeader");

var _context = require("../context");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

describe('components/Accordion/AccordionHeader', function () {
  it('should render the children', function () {
    (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_context.AccordionMainContext.Provider, {
      value: {
        selectedItemId: 1
      }
    }, /*#__PURE__*/_react["default"].createElement(_context.AccordionSubContext.Provider, {
      value: {
        id: 1
      }
    }, /*#__PURE__*/_react["default"].createElement(_AccordionHeader.AccordionHeader, null, /*#__PURE__*/_react["default"].createElement("div", {
      "data-test": "test"
    })))));
    expect(_react2.screen.queryByTestId('test')).toBeInTheDocument();
  });
  it('should call `onItemClick` when clicked', function () {
    var onItemClickMock = jest.fn();
    (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_context.AccordionMainContext.Provider, {
      value: {
        selectedItemId: 1,
        onItemClick: onItemClickMock
      }
    }, /*#__PURE__*/_react["default"].createElement(_context.AccordionSubContext.Provider, {
      value: {
        id: 2
      }
    }, /*#__PURE__*/_react["default"].createElement(_AccordionHeader.AccordionHeader, null, /*#__PURE__*/_react["default"].createElement("div", {
      "data-test": "test"
    })))));

    _react2.fireEvent.click(_react2.screen.getByTestId('accordion-header-2'));

    expect(onItemClickMock).toHaveBeenCalledTimes(1);
    expect(onItemClickMock).toHaveBeenCalledWith(2);
  });
});
import React from 'react';
import { render, screen, fireEvent } from '@testing-library/react';
import { AccordionHeader } from '../AccordionHeader';
import { AccordionMainContext, AccordionSubContext } from '../context';
describe('components/Accordion/AccordionHeader', function () {
  it('should render the children', function () {
    render( /*#__PURE__*/React.createElement(AccordionMainContext.Provider, {
      value: {
        selectedItemId: 1
      }
    }, /*#__PURE__*/React.createElement(AccordionSubContext.Provider, {
      value: {
        id: 1
      }
    }, /*#__PURE__*/React.createElement(AccordionHeader, null, /*#__PURE__*/React.createElement("div", {
      "data-test": "test"
    })))));
    expect(screen.queryByTestId('test')).toBeInTheDocument();
  });
  it('should call `onItemClick` when clicked', function () {
    var onItemClickMock = jest.fn();
    render( /*#__PURE__*/React.createElement(AccordionMainContext.Provider, {
      value: {
        selectedItemId: 1,
        onItemClick: onItemClickMock
      }
    }, /*#__PURE__*/React.createElement(AccordionSubContext.Provider, {
      value: {
        id: 2
      }
    }, /*#__PURE__*/React.createElement(AccordionHeader, null, /*#__PURE__*/React.createElement("div", {
      "data-test": "test"
    })))));
    fireEvent.click(screen.getByTestId('accordion-header-2'));
    expect(onItemClickMock).toHaveBeenCalledTimes(1);
    expect(onItemClickMock).toHaveBeenCalledWith(2);
  });
});
{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"size\", \"src\", \"icon\", \"disabled\", \"children\", \"mode\", \"variant\", \"onClick\", \"borderless\", \"color\"];\nimport React, { useEffect, useState, forwardRef } from 'react';\nimport styled from 'styled-components';\nimport { color as colorFn } from 'styled-system';\nimport { makeBackgroundVariant, makeTextColorVariant } from '../../utils/styles';\nimport { Flex } from '../Flex';\nimport { AvatarSize } from './Avatar.decl';\nimport { makeAvatarSize, makeAvatarIconSize, makeAvatarColor, shouldForwardProp } from './utils';\nvar AvatarContainer = styled(Flex).withConfig({\n  shouldForwardProp: shouldForwardProp\n}).withConfig({\n  displayName: \"Avatar__AvatarContainer\",\n  componentId: \"sc-15mkrx3-0\"\n})([\"position:relative;align-items:center;justify-content:center;flex-shrink:0;user-select:none;font-family:\", \";clip-path:url(#svgPath);\", \" \", \" \", \" \", \" &::after{content:'';position:absolute;background:\", \";clip-path:url(#svgPath);top:1px;left:1px;right:1px;bottom:1px;z-index:-1;\", \" \", \"}\", \"\"], function (_ref) {\n  var theme = _ref.theme;\n  return theme.typography.fontFamily;\n}, makeAvatarSize, makeAvatarIconSize, makeAvatarColor, makeTextColorVariant, function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.colors.base.white;\n}, makeBackgroundVariant, colorFn, colorFn);\nvar AvatarImg = styled.img.withConfig({\n  displayName: \"Avatar__AvatarImg\",\n  componentId: \"sc-15mkrx3-1\"\n})([\"position:absolute;width:100%;height:100%;object-fit:cover;\"]);\nvar Avatar = /*#__PURE__*/forwardRef(function (_ref3, ref) {\n  var _ref3$size = _ref3.size,\n      size = _ref3$size === void 0 ? AvatarSize.MEDIUM : _ref3$size,\n      src = _ref3.src,\n      icon = _ref3.icon,\n      _ref3$disabled = _ref3.disabled,\n      disabled = _ref3$disabled === void 0 ? false : _ref3$disabled,\n      children = _ref3.children,\n      _ref3$mode = _ref3.mode,\n      mode = _ref3$mode === void 0 ? 'light' : _ref3$mode,\n      variant = _ref3.variant,\n      onClick = _ref3.onClick,\n      _ref3$borderless = _ref3.borderless,\n      borderless = _ref3$borderless === void 0 ? false : _ref3$borderless,\n      color = _ref3.color,\n      otherStyleProps = _objectWithoutPropertiesLoose(_ref3, _excluded);\n\n  var _useState = useState(false),\n      imgLoadError = _useState[0],\n      setImgLoadError = _useState[1];\n\n  var clickable = !!onClick;\n  useEffect(function () {\n    setImgLoadError(false);\n  }, [src]);\n  var isValidSrc = src && !imgLoadError;\n  return /*#__PURE__*/React.createElement(AvatarContainer, _extends({\n    ref: ref,\n    \"data-test\": \"avatar\",\n    avatarSize: size,\n    disabled: disabled,\n    mode: mode,\n    variant: variant,\n    color: color,\n    hasImage: !!isValidSrc,\n    clickable: clickable,\n    borderless: borderless,\n    onClick: onClick\n  }, otherStyleProps), isValidSrc ? /*#__PURE__*/React.createElement(AvatarImg, {\n    src: src,\n    onError: function onError() {\n      return setImgLoadError(true);\n    },\n    disabled: disabled\n  }) : icon || children);\n});\nexport default Avatar;","map":{"version":3,"sources":["/Users/dinnosivagnanam/Development/Aircall-FrontEnd/node_modules/@aircall/tractor/es/components/Avatar/Avatar.js"],"names":["_extends","_objectWithoutPropertiesLoose","_excluded","React","useEffect","useState","forwardRef","styled","color","colorFn","makeBackgroundVariant","makeTextColorVariant","Flex","AvatarSize","makeAvatarSize","makeAvatarIconSize","makeAvatarColor","shouldForwardProp","AvatarContainer","withConfig","displayName","componentId","_ref","theme","typography","fontFamily","_ref2","colors","base","white","AvatarImg","img","Avatar","_ref3","ref","_ref3$size","size","MEDIUM","src","icon","_ref3$disabled","disabled","children","_ref3$mode","mode","variant","onClick","_ref3$borderless","borderless","otherStyleProps","_useState","imgLoadError","setImgLoadError","clickable","isValidSrc","createElement","avatarSize","hasImage","onError"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"size\", \"src\", \"icon\", \"disabled\", \"children\", \"mode\", \"variant\", \"onClick\", \"borderless\", \"color\"];\nimport React, { useEffect, useState, forwardRef } from 'react';\nimport styled from 'styled-components';\nimport { color as colorFn } from 'styled-system';\nimport { makeBackgroundVariant, makeTextColorVariant } from '../../utils/styles';\nimport { Flex } from '../Flex';\nimport { AvatarSize } from './Avatar.decl';\nimport { makeAvatarSize, makeAvatarIconSize, makeAvatarColor, shouldForwardProp } from './utils';\nvar AvatarContainer = styled(Flex).withConfig({\n  shouldForwardProp: shouldForwardProp\n}).withConfig({\n  displayName: \"Avatar__AvatarContainer\",\n  componentId: \"sc-15mkrx3-0\"\n})([\"position:relative;align-items:center;justify-content:center;flex-shrink:0;user-select:none;font-family:\", \";clip-path:url(#svgPath);\", \" \", \" \", \" \", \" &::after{content:'';position:absolute;background:\", \";clip-path:url(#svgPath);top:1px;left:1px;right:1px;bottom:1px;z-index:-1;\", \" \", \"}\", \"\"], function (_ref) {\n  var theme = _ref.theme;\n  return theme.typography.fontFamily;\n}, makeAvatarSize, makeAvatarIconSize, makeAvatarColor, makeTextColorVariant, function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.colors.base.white;\n}, makeBackgroundVariant, colorFn, colorFn);\nvar AvatarImg = styled.img.withConfig({\n  displayName: \"Avatar__AvatarImg\",\n  componentId: \"sc-15mkrx3-1\"\n})([\"position:absolute;width:100%;height:100%;object-fit:cover;\"]);\nvar Avatar = /*#__PURE__*/forwardRef(function (_ref3, ref) {\n  var _ref3$size = _ref3.size,\n      size = _ref3$size === void 0 ? AvatarSize.MEDIUM : _ref3$size,\n      src = _ref3.src,\n      icon = _ref3.icon,\n      _ref3$disabled = _ref3.disabled,\n      disabled = _ref3$disabled === void 0 ? false : _ref3$disabled,\n      children = _ref3.children,\n      _ref3$mode = _ref3.mode,\n      mode = _ref3$mode === void 0 ? 'light' : _ref3$mode,\n      variant = _ref3.variant,\n      onClick = _ref3.onClick,\n      _ref3$borderless = _ref3.borderless,\n      borderless = _ref3$borderless === void 0 ? false : _ref3$borderless,\n      color = _ref3.color,\n      otherStyleProps = _objectWithoutPropertiesLoose(_ref3, _excluded);\n\n  var _useState = useState(false),\n      imgLoadError = _useState[0],\n      setImgLoadError = _useState[1];\n\n  var clickable = !!onClick;\n  useEffect(function () {\n    setImgLoadError(false);\n  }, [src]);\n  var isValidSrc = src && !imgLoadError;\n  return /*#__PURE__*/React.createElement(AvatarContainer, _extends({\n    ref: ref,\n    \"data-test\": \"avatar\",\n    avatarSize: size,\n    disabled: disabled,\n    mode: mode,\n    variant: variant,\n    color: color,\n    hasImage: !!isValidSrc,\n    clickable: clickable,\n    borderless: borderless,\n    onClick: onClick\n  }, otherStyleProps), isValidSrc ? /*#__PURE__*/React.createElement(AvatarImg, {\n    src: src,\n    onError: function onError() {\n      return setImgLoadError(true);\n    },\n    disabled: disabled\n  }) : icon || children);\n});\nexport default Avatar;"]},"metadata":{},"sourceType":"module"}
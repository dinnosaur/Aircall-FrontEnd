{"ast":null,"code":"import { useEffect, useMemo } from 'react';\nimport PubSub from 'pubsub-js';\nexport var usePubSub = function usePubSub(topic, cb) {\n  var token = useMemo(function () {\n    return PubSub.subscribe(topic, function (_, data) {\n      cb(data);\n    });\n  }, [topic, cb]);\n  useEffect(function () {\n    return function () {\n      PubSub.unsubscribe(token);\n    };\n  }, [token]);\n};","map":{"version":3,"sources":["/Users/dinnosivagnanam/Development/Aircall-FrontEnd/node_modules/@aircall/tractor/es/hooks/usePubSub/usePubSub.js"],"names":["useEffect","useMemo","PubSub","usePubSub","topic","cb","token","subscribe","_","data","unsubscribe"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,OAApB,QAAmC,OAAnC;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAO,IAAIC,SAAS,GAAG,SAASA,SAAT,CAAmBC,KAAnB,EAA0BC,EAA1B,EAA8B;AACnD,MAAIC,KAAK,GAAGL,OAAO,CAAC,YAAY;AAC9B,WAAOC,MAAM,CAACK,SAAP,CAAiBH,KAAjB,EAAwB,UAAUI,CAAV,EAAaC,IAAb,EAAmB;AAChDJ,MAAAA,EAAE,CAACI,IAAD,CAAF;AACD,KAFM,CAAP;AAGD,GAJkB,EAIhB,CAACL,KAAD,EAAQC,EAAR,CAJgB,CAAnB;AAKAL,EAAAA,SAAS,CAAC,YAAY;AACpB,WAAO,YAAY;AACjBE,MAAAA,MAAM,CAACQ,WAAP,CAAmBJ,KAAnB;AACD,KAFD;AAGD,GAJQ,EAIN,CAACA,KAAD,CAJM,CAAT;AAKD,CAXM","sourcesContent":["import { useEffect, useMemo } from 'react';\nimport PubSub from 'pubsub-js';\nexport var usePubSub = function usePubSub(topic, cb) {\n  var token = useMemo(function () {\n    return PubSub.subscribe(topic, function (_, data) {\n      cb(data);\n    });\n  }, [topic, cb]);\n  useEffect(function () {\n    return function () {\n      PubSub.unsubscribe(token);\n    };\n  }, [token]);\n};"]},"metadata":{},"sourceType":"module"}